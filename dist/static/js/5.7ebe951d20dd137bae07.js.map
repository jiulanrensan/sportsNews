{"version":3,"sources":["webpack:///src/components/carousel.vue","webpack:///./src/components/carousel.vue?3136","webpack:///./src/components/carousel.vue"],"names":["carousel","name","data","imglist","title","commentnum","page","commentsUrl","titleName","des","current","swiperOption","autoplay","delay","disableOnInteraction","notNextTick","freeMode","centeredSlides","created","this","init","methods","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","type","response","comnum","wrap","_context","prev","next","$route","query","Object","getData","sent","console","log","body","slides","description","join_count","stop","toComment","$router","push","computed","swiper","$refs","mySwiper","mounted","_this","on","realIndex","components","vue_awesome_swiper","swiperSlide","vheader","head","components_carousel","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","headTitle","_v","ref","options","_l","item","index","key","src","image","click","_s","length","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8MAoCAA,GACAC,KAAA,WACAC,KAFA,WAGA,OACAC,WACAC,MAAA,GACAC,WAAA,GACAC,KAAA,EACAC,YAAA,GACAC,UAAA,KACAC,IAAA,GACAC,QAAA,EACAC,cAEAC,UACAC,MAAA,IACAC,sBAAA,GAEAC,aAAA,EACAC,UAAA,EAGAC,gBAAA,KAgBAC,QAtCA,WAuCAC,KAAAC,QAEAC,SACAD,KADA,WACA,IAAAE,EAAAH,KAAA,OAAAI,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACAN,EAAA,GACAA,EAAAN,EAAAa,OAAAC,MAAAR,KAFAI,EAAAE,KAAA,EAIAG,OAAAC,EAAA,EAAAD,CAAAT,GAJA,cAIAC,EAJAG,EAAAO,KAKAC,QAAAC,IAAAZ,GACAP,EAAAnB,QAAA0B,EAAA3B,KAAAwC,KAAAC,OACArB,EAAAlB,MAAAyB,EAAA3B,KAAAwC,KAAAtC,MACAkB,EAAAf,YAAAsB,EAAA3B,KAAAwC,KAAAnC,YACAe,EAAAb,IAAAoB,EAAA3B,KAAAwC,KAAAC,OAAA,GAAAC,YACAJ,QAAAC,IAAAnB,EAAAf,aAVAyB,EAAAE,KAAA,GAYAG,OAAAC,EAAA,EAAAD,CAAAf,EAAAhB,KAAAgB,EAAAf,aAZA,QAYAuB,EAZAE,EAAAO,KAaAC,QAAAC,IAAAX,GACAR,EAAAjB,WAAAyB,EAAA5B,KAAA2C,WAdA,yBAAAb,EAAAc,SAAAnB,EAAAL,KAAAC,IAqBAwB,UAtBA,WAuBA5B,KAAA6B,QAAAC,KAAA,kBAAA9B,KAAAf,MAAA,QAAAe,KAAAZ,eAGA2C,UACAC,OADA,WAEA,OAAAhC,KAAAiC,MAAAC,SAAAF,SAGAG,QAxEA,WA0EA,IAAAC,EAAApC,KACAA,KAAAgC,OAAAK,GAAA,sCACAD,EAAA7C,QAAAS,KAAAsC,UAAA,EACAF,EAAA9C,IAAA8C,EAAApD,QAAAgB,KAAAsC,WAAAb,eAGAc,YACAP,OAAAQ,EAAA,OACAC,YAAAD,EAAA,YACAE,QAAAC,EAAA,ICpHAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA9C,KAAa+C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,WAAgBG,OAAOC,UAAAP,EAAAzD,aAA2ByD,EAAAQ,GAAA,KAAAL,EAAA,OAAwBE,YAAA,cAAwBF,EAAA,UAAeM,IAAA,WAAAJ,YAAA,eAAAC,OAAiDI,QAAAV,EAAAtD,eAA4BsD,EAAAW,GAAAX,EAAA,iBAAAY,EAAAC,GAA2C,OAAAV,EAAA,gBAA0BW,IAAAD,EAAAR,YAAA,gBAAoCF,EAAA,OAAYG,OAAOS,IAAAH,EAAAI,cAAsBhB,EAAAQ,GAAA,KAAAL,EAAA,OAAyBE,YAAA,UAAAd,IAA0B0B,MAAAjB,EAAAlB,aAAuBqB,EAAA,KAAUE,YAAA,2BAAqCL,EAAAQ,GAAA,KAAAL,EAAA,QAAyBE,YAAA,gBAA0BL,EAAAQ,GAAAR,EAAAkB,GAAAlB,EAAA5D,iBAAA4D,EAAAQ,GAAA,KAAAL,EAAA,OAA2DE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,UAAoBL,EAAAQ,GAAAR,EAAAkB,GAAAlB,EAAA7D,UAAA6D,EAAAQ,GAAA,KAAAL,EAAA,QAAqDE,YAAA,eAAyBL,EAAAQ,GAAAR,EAAAkB,GAAAlB,EAAAvD,SAAA,IAAAuD,EAAAkB,GAAAlB,EAAA9D,QAAAiF,WAAAnB,EAAAQ,GAAA,KAAAL,EAAA,OAAqFE,YAAA,QAAkBL,EAAAQ,GAAAR,EAAAkB,GAAAlB,EAAAxD,WAAA,GAAAwD,EAAAQ,GAAA,KAAAL,EAAA,cAA+DG,OAAOtE,KAAA,kBAAuBmE,EAAA,wBAE/+BiB,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAxF,EACA+D,GATA,EAVA,SAAA0B,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/5.7ebe951d20dd137bae07.js","sourcesContent":["<template>\r\n\t<div class=\"carousel\">\r\n\t\t<vheader :headTitle=\"titleName\"></vheader>\r\n\t\t<!-- container包含所有内容 -->\r\n\t\t<div class=\"container\">\r\n\r\n\t\t\t<!-- 轮播图详情 -->\r\n\t\t\t<swiper :options=\"swiperOption\" class=\"carouselwrap\" ref=\"mySwiper\">\r\n\t\t\t\t<swiper-slide v-for=\"(item,index) in imglist\" :key=\"index\" class=\"swiper-item\">\r\n\t\t\t\t\t<img :src=\"item.image\">\r\n\t\t\t\t</swiper-slide>\r\n\t\t\t\t\r\n\t\t\t</swiper>\r\n\r\n\t\t\t<!-- 评论图标 -->\r\n\t\t\t<div class=\"comment\" @click=\"toComment\">\r\n\t\t\t\t<i class=\"iconfont icon-comments\"></i>\r\n\t\t\t\t<span class=\"comment-num\">{{ commentnum }}</span>\r\n\t\t\t</div>\r\n\t\t\t<!-- 轮播图内容 -->\r\n\t\t\t<div class=\"content\">\r\n\t\t\t\t<div class=\"title\">{{ title }}</div>\r\n\t\t\t\t<span class=\"currentimg\">{{ current }}/{{ imglist.length }}</span>\r\n\t\t\t\t<div class=\"des\">{{ des }}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<transition name=\"router-slide\">\r\n      <router-view></router-view>\r\n    </transition>\r\n\t</div>\r\n</template>\r\n<script>\r\n\t//import VueAwesomeSwiper from 'vue-awesome-swiper'\r\n  import { swiper, swiperSlide } from 'vue-awesome-swiper'\r\n  import vheader from './head'\r\n  import { getcarousel,hotcomment } from '../getData/getData.js'\r\n  export default{\r\n  \tname: 'carousel',\r\n  \tdata() {\r\n  \t\treturn {\r\n  \t\t\timglist: [],\r\n  \t\t\ttitle: '',\r\n  \t\t\tcommentnum: '',\r\n  \t\t\tpage: 1,\r\n  \t\t\tcommentsUrl: '',\r\n  \t\t\ttitleName: '图片',\r\n  \t\t\tdes: '',\r\n  \t\t\tcurrent: 1,\r\n  \t\t\tswiperOption: {\r\n\t\t\t\t\t//initialSlide: 0,\r\n\t\t  \t\tautoplay: {\r\n\t\t\t        delay: 3000,\r\n\t\t\t        disableOnInteraction: false\r\n\t\t        },\r\n\t\t\t\t\tnotNextTick: true,\r\n\t\t\t\t\tfreeMode: false,\r\n\t\t\t\t\t\r\n\t\t\t\t\t//默认居中\r\n\t\t\t\t\tcenteredSlides: true,\r\n\t\t\t\t\t/*回调函数，swiper从一个slide过渡到另一个slide结束时执行,可接受swiper实例作为参数\r\n\t\t\t\t\trealIndex:当前活动块的索引*/\r\n\t\t\t\t\t/*onSlideChangeEnd: swiper => {\r\n\t\t\t\t\t\t//this.currentSlide(swiper.realIndex);\r\n\t\t\t\t\t\tconsole.log(this.realIndex);\r\n\t\t\t\t\t}*/\r\n\t\t\t\t\t/*on: {\r\n              slideChangeTransitionEnd: function(){\r\n              \tconsole.log(this.realIndex);\r\n              \tthis.current = this.realIndex;\r\n              }\r\n          }*/\r\n\t\t\t\t}\r\n  \t\t}\r\n  \t},\r\n  \tcreated(){\r\n  \t\tthis.init();\r\n  \t},\r\n  \tmethods: {\r\n  \t\tasync init(){\r\n  \t\t\tlet type = '';\r\n  \t\t\ttype = this.$route.query.type;\r\n  \t\t\t//获取轮播图数据\r\n  \t\t\tlet response = await getcarousel(type);\r\n  \t\t\tconsole.log(response);\r\n  \t\t\tthis.imglist = response.data.body.slides;\r\n  \t\t\tthis.title = response.data.body.title;\r\n  \t\t\tthis.commentsUrl = response.data.body.commentsUrl;\r\n  \t\t\tthis.des = response.data.body.slides[0].description;\r\n  \t\t\tconsole.log(this.commentsUrl);\r\n  \t\t\t//获取评论\r\n  \t\t\tlet comnum = await hotcomment(this.page,this.commentsUrl);\r\n  \t\t\tconsole.log(comnum);\r\n  \t\t\tthis.commentnum = comnum.data.join_count;\r\n  \t\t},\r\n  \t\t/*currentSlide(index){\r\n  \t\t\t//在轮播当前图片结束时调用此函数，index+1为下一张图片的索引\r\n  \t\t\tthis.current = index + 1;\r\n  \t\t\tthis.des = response.data.body.slides[index].description;\r\n  \t\t},*/\r\n  \t\ttoComment(){\r\n  \t\t\tthis.$router.push('/comment?title=' + this.title + '&url=' + this.commentsUrl);\r\n  \t\t}\r\n  \t},\r\n  \tcomputed: {  \r\n\t    swiper() {  \r\n\t      return this.$refs.mySwiper.swiper;  \r\n\t    }\r\n\t  }, \r\n\t  mounted(){\r\n\t  \t//this.swiper的函数里的this指向swiper,所以这里要定义一个_this指向vue\r\n\t  \tlet _this = this;\r\n\t  \tthis.swiper.on('slideChangeTransitionEnd', function(){\r\n\t\t    _this.current = this.realIndex + 1;\r\n\t\t    _this.des = _this.imglist[this.realIndex].description;\r\n\t\t  });\r\n\t  },\r\n  \tcomponents: {\r\n  \t\tswiper, \r\n  \t\tswiperSlide,\r\n  \t\tvheader\r\n  \t}\r\n  }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.carousel{\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 2;\r\n\t\tbackground-color: #000;\r\n\t\t.container{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: relative;\r\n\t\t\t.carouselwrap{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t.swiper-item{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\timg{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.comment{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 3;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: 70px;\r\n\t\t\t\theight: 20px;\r\n\t\t\t\tpadding-right: 1rem;\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t\ti{\r\n\t\t\t\t\tposition: static;\r\n\t\t\t\t\tcolor: white;\r\n\t\t\t\t\tpadding: 2px;\r\n\t\t\t\t\tfont-size: 25px;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\ttransform: translateY(0);\r\n\t\t\t\t}\r\n\t\t\t\t.comment-num{\r\n\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\tpadding: 2px;\r\n\t\t\t\t\tfont-size: 17px;\r\n\t\t\t\t\tcolor: white;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.content{\r\n\t\t\t\t/*绝对定位只不设置顶部，则定位于下端，\r\n\t\t\t\t并根据里面内容填充高度*/\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tpadding: 0.3rem;\r\n\t\t\t\tbackground-color: rgba(0,0,0,0.3);\r\n\t\t\t\tcolor: white;\r\n\t\t\t\t.title{\r\n\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\tpadding: 0.3rem;\r\n\t\t\t\t\tfont-size: 19px;\r\n\t\t\t\t}\r\n\t\t\t\t.des{\r\n\t\t\t\t\tpadding: 0.3rem;\r\n\t\t\t\t\theight: 10rem;\r\n\t\t\t\t}\r\n\t\t\t\t.currentimg{\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 0.5rem;\r\n\t\t\t\t\ttop: 0.5rem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/carousel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"carousel\"},[_c('vheader',{attrs:{\"headTitle\":_vm.titleName}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('swiper',{ref:\"mySwiper\",staticClass:\"carouselwrap\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.imglist),function(item,index){return _c('swiper-slide',{key:index,staticClass:\"swiper-item\"},[_c('img',{attrs:{\"src\":item.image}})])})),_vm._v(\" \"),_c('div',{staticClass:\"comment\",on:{\"click\":_vm.toComment}},[_c('i',{staticClass:\"iconfont icon-comments\"}),_vm._v(\" \"),_c('span',{staticClass:\"comment-num\"},[_vm._v(_vm._s(_vm.commentnum))])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('span',{staticClass:\"currentimg\"},[_vm._v(_vm._s(_vm.current)+\"/\"+_vm._s(_vm.imglist.length))]),_vm._v(\" \"),_c('div',{staticClass:\"des\"},[_vm._v(_vm._s(_vm.des))])])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-slide\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-b7a5f382\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/carousel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b7a5f382\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./carousel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./carousel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./carousel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b7a5f382\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./carousel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b7a5f382\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/carousel.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}