webpackJsonp([2],{GLlk:function(t,e,i){var n;n=function(){"use strict";var t="@@InfiniteScroll",e=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},i=document.defaultView.getComputedStyle,n=function(t){return t===window?e(window):t.getBoundingClientRect().top+e(window)},s=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},o=function(){if(!this.binded){this.binded=!0;var t,e,n,s,o,r,l,c,u=this,d=u.el,v=d.getAttribute("infinite-scroll-throttle-delay"),f=200;v&&(f=Number(u.vm[v]||v),(isNaN(f)||f<0)&&(f=200)),u.throttleDelay=f,u.scrollEventTarget=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var n=i(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window}(d),u.scrollListener=(t=a.bind(u),e=u.throttleDelay,c=function(){t.apply(r,l),s=n},function(){if(r=this,l=arguments,n=Date.now(),o&&(clearTimeout(o),o=null),s){var t=e-(n-s);t<0?c():o=setTimeout(function(){c()},t)}else c()}),u.scrollEventTarget.addEventListener("scroll",u.scrollListener),this.vm.$on("hook:beforeDestroy",function(){u.scrollEventTarget.removeEventListener("scroll",u.scrollListener)});var m=d.getAttribute("infinite-scroll-disabled"),p=!1;m&&(this.vm.$watch(m,function(t){u.disabled=t,!t&&u.immediateCheck&&a.call(u)}),p=Boolean(u.vm[m])),u.disabled=p;var h=d.getAttribute("infinite-scroll-distance"),w=0;h&&(w=Number(u.vm[h]||h),isNaN(w)&&(w=0)),u.distance=w;var _=d.getAttribute("infinite-scroll-immediate-check"),g=!0;_&&(g=Boolean(u.vm[_])),u.immediateCheck=g,g&&a.call(u);var b=d.getAttribute("infinite-scroll-listen-for-event");b&&u.vm.$on(b,function(){a.call(u)})}},a=function(t){var i=this.scrollEventTarget,s=this.el,o=this.distance;if(!0===t||!this.disabled){var a=e(i),r=a+function(t){return t===window?document.documentElement.clientHeight:t.clientHeight}(i),l=!1;if(i===s)l=i.scrollHeight-r<=o;else l=r+o>=n(s)-n(i)+s.offsetHeight+a;l&&this.expression&&this.expression()}},r={bind:function(e,i,n){e[t]={el:e,vm:n.context,expression:i.value};var a=arguments;e[t].vm.$on("hook:mounted",function(){e[t].vm.$nextTick(function(){s(e)&&o.call(e[t],a),e[t].bindTryCount=0;!function i(){e[t].bindTryCount>10||(e[t].bindTryCount++,s(e)?o.call(e[t],a):setTimeout(i,50))}()})})},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},l=function(t){t.directive("InfiniteScroll",r)};return window.Vue&&(window.infiniteScroll=r,Vue.use(l)),r.install=l,r},t.exports=n()},IHPB:function(t,e,i){"use strict";e.__esModule=!0;var n,s=i("kfHR"),o=(n=s)&&n.__esModule?n:{default:n};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,o.default)(t)}},KgXo:function(t,e,i){"use strict";var n={name:"loading",data:function(){return{}},props:{loadstatus:{type:Boolean,default:!1}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!this.loadstatus,expression:"!loadstatus"}],staticClass:"loadmore"},[this._v("\n\t\t正在加载...\n\t")]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.loadstatus,expression:"loadstatus"}],staticClass:"loadnone"},[this._v("\n\t\t加载完毕\n\t")])])},staticRenderFns:[]};var o=i("vSla")(n,s,!1,function(t){i("o7ds")},null,null);e.a=o.exports},"O/20":function(t,e){},kfHR:function(t,e,i){t.exports={default:i("qQfv"),__esModule:!0}},kksE:function(t,e,i){"use strict";var n=i("lIiZ"),s=i("go9Q");t.exports=function(t,e,i){e in t?n.f(t,e,s(0,i)):t[e]=i}},o7ds:function(t,e){},qQfv:function(t,e,i){i("IsPG"),i("yrDz"),t.exports=i("AKd3").Array.from},wUZA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("IHPB"),s=i.n(n),o=i("lC5x"),a=i.n(o),r=i("J0Oq"),l=i.n(r),c=i("KgXo"),u=i("DMPO"),d=i("Vd6H"),v=i("GLlk"),f=i.n(v),m=i("JQEa"),p={name:"newslist",data:function(){return{list:""}},props:{newsitem:{type:Array}},methods:{toArticle:function(t){this.$emit("toArticle",Object(m.a)(t))},toCarousel:function(t){this.$emit("toCarousel",Object(m.a)(t))},toVideo:function(t){this.$emit("toVideo",Object(m.a)(t))},toTopic:function(t){this.$emit("toTopic",t)}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"newslist"},t._l(t.newsitem,function(e,n){return i("div",{key:n},["doc"==e.type?i("div",{staticClass:"newsitem",on:{click:function(i){t.toArticle(e.id)}}},[i("div",{staticClass:"imgbox"},[e.thumbnail?i("div",{staticClass:"box"},[i("img",{attrs:{src:e.thumbnail}})]):t._e()]),t._v(" "),i("div",{staticClass:"content"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"time"},[t._v(t._s(e.updateTime))])]),t._v(" "),i("span",{staticClass:"commentnum"},[t._v(t._s(e.commentsall))])]):"topic2"==e.type?i("div",{staticClass:"newsitem",on:{click:function(i){t.toTopic(e.id)}}},[i("div",{staticClass:"imgbox"},[e.thumbnail?i("div",{staticClass:"box"},[i("img",{attrs:{src:e.thumbnail}})]):t._e()]),t._v(" "),i("div",{staticClass:"content"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"subtopic"},[t._v("专题")])]),t._v(" "),i("span",{staticClass:"commentnum"},[t._v(t._s(e.commentsall))])]):"phvideo"==e.type?i("div",{staticClass:"videoitem",on:{click:function(i){t.toVideo(e.id)}}},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"video"},[i("i",{staticClass:"iconfont icon-play"}),t._v(" "),i("img",{attrs:{src:e.thumbnail}})])]):"slide"==e.type?i("div",{staticClass:"newslide",on:{click:function(i){t.toCarousel(e.id)}}},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"imgbox"},t._l(e.style.images,function(t,e){return i("div",{staticClass:"box"},[i("img",{key:e,attrs:{src:t}})])}))]):t._e()])}))},staticRenderFns:[]};var w=i("vSla")(p,h,!1,function(t){i("zo39")},"data-v-4ca56889",null).exports,_={name:"home",data:function(){return{swiper:[],news:[],topic:[],page:1,loadstatus:!1,busy:!0,transitionName:"router-slide",swiperOption:{pagination:".swiper-pagination",spaceBwtween:30,centeredSlides:!0,autoplay:{delay:3e3,stopOnLastSlide:!1},perspective:15,autoplayDisableOnInteraction:!1,notNextTick:!0,onSlideChangeEnd:function(t){console.log(t)}}}},created:function(){this.init()},methods:{init:function(){var t=this;return l()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("TY43,FOCUSTY43,TYTOPIC",t.page++,"5.4.0");case 2:e.sent.data.forEach(function(e,i){if(e.item){var n=e.type;"focus"==n?t.swiper=e.item:"list"==n?t.news=e:"tytopic"==n&&(t.topic=e)}}),console.log(t.news),console.log(t.swiper),t.busy=!1;case 7:case"end":return e.stop()}},e,t)}))()},loadMore:function(){var t=this;return l()(a.a.mark(function e(){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.busy=!0,e.next=3,Object(d.a)("TY43",t.page++,"5.4.0");case 3:i=e.sent,t.news.item=[].concat(s()(t.news.item),s()(i.data[0].item)),console.log(t.news.item),t.busy=!1;case 7:case"end":return e.stop()}},e,t)}))()},toArticle:function(t){this.$router.push("/home/article?"+t)},toCarousel:function(t){console.log(t),t.indexOf(".com/")>-1?this.$router.push("/home/carousel?"+Object(m.a)(t)):this.$router.push("/home/carousel?"+t)},toVideo:function(t){this.$router.push("/home/video?"+t)},toTopic:function(t){this.$router.push("/topic?"+Object(m.a)(t))}},watch:{$route:function(t,e){this.transitionName=t.path.indexOf("video")>0?"router-right":"router-slide"}},directives:{infiniteScroll:f.a},components:{swiper:u.swiper,swiperSlide:u.swiperSlide,newslist:w,loading:c.a}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[t.swiper.length?i("swiper",{staticClass:"swiper-wrap",attrs:{options:t.swiperOption}},[t._l(t.swiper,function(e,n){return"web"!=e.type?i("swiper-slide",{key:n},[i("div",{staticClass:"title"},[i("span",[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"box"},[i("img",{attrs:{src:e.thumbnail},on:{click:function(i){t.toCarousel(e.id)}}})])]):t._e()}),t._v(" "),t.swiper.length>1?i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e()],2):t._e(),t._v(" "),i("div",{staticClass:"topicbox"},t._l(t.topic.item,function(e,n){return i("div",{key:n,staticClass:"category",on:{click:function(i){t.toTopic(e.id)}}},[i("img",{attrs:{src:e.thumbnail}}),t._v(" "),i("span",{staticClass:"title"},[t._v(t._s(e.title))])])})),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[i("newslist",{attrs:{newsitem:t.news.item},on:{toArticle:t.toArticle,toCarousel:t.toCarousel,toVideo:t.toVideo,toTopic:t.toTopic}})],1),t._v(" "),i("loading",{attrs:{loadstatus:t.loadstatus}}),t._v(" "),i("transition",{attrs:{name:t.transitionName}},[i("router-view")],1)],1)},staticRenderFns:[]};var b=i("vSla")(_,g,!1,function(t){i("O/20")},"data-v-da8d7460",null);e.default=b.exports},yrDz:function(t,e,i){"use strict";var n=i("WwGG"),s=i("FITv"),o=i("OXaN"),a=i("kDTw"),r=i("V2W7"),l=i("CFGK"),c=i("kksE"),u=i("YW8S");s(s.S+s.F*!i("75+0")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,s,d,v=o(t),f="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,h=void 0!==p,w=0,_=u(v);if(h&&(p=n(p,m>2?arguments[2]:void 0,2)),void 0==_||f==Array&&r(_))for(i=new f(e=l(v.length));e>w;w++)c(i,w,h?p(v[w],w):v[w]);else for(d=_.call(v),i=new f;!(s=d.next()).done;w++)c(i,w,h?a(d,p,[s.value,w],!0):s.value);return i.length=w,i}})},zo39:function(t,e){}});
//# sourceMappingURL=2.cd26e175fde6268e64ef.js.map